"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.safeMatch = exports.cacheReg = exports["default"] = void 0;
var esc = /[|\\{}()[\]^$+*?.]/g;

var text = function text(txt) {
  return txt ? txt + "" : "";
};

var getSafeReg = function getSafeReg(regString) {
  return text(regString).replace(esc, "\\$&");
};

var cacheReg = function cacheReg(cache) {
  return function (getRegCallback, flags) {
    return function (regString) {
      if (!cache[regString]) {
        var cookRegString = getRegCallback ? getRegCallback(regString) : regString;
        cache[regString] = new RegExp(cookRegString, flags);
      }

      return cache[regString];
    };
  };
};

exports.cacheReg = cacheReg;

var safeMatch = function safeMatch(testText, reg) {
  return text(testText).match(reg);
};

exports.safeMatch = safeMatch;
var _default = getSafeReg;
exports["default"] = _default;