"use strict";

var _interopRequireDefault = require("reshow-runtime/helpers/interopRequireDefault");

var _chai = require("chai");

var _sinon = _interopRequireDefault(require("sinon"));

var _index = require("../index.js");

describe("Test debounce", function () {
  it('test debounce', function (done) {
    var spy = _sinon["default"].spy();

    var run = (0, _index.debounce)(spy, 10);

    for (var i = 0; i < 5; i++) {
      run();
    }

    setTimeout(function () {
      (0, _chai.expect)(spy.callCount).to.equal(1);
      done();
    }, 100);
  });
});
describe("Test throttle", function () {
  it('test throttle', function (done) {
    var spy = _sinon["default"].spy();

    var run = (0, _index.throttle)(spy, 2);

    for (var i = 0; i < 2; i++) {
      setTimeout(function () {
        return run();
      }, i * 1);
    }

    setTimeout(function () {
      (0, _chai.expect)(spy.callCount).to.equal(1);
      done();
    }, 100);
  });
  it('test throttle with last run', function (done) {
    var spy = _sinon["default"].spy();

    var run = (0, _index.throttle)(spy, 2, true);

    for (var i = 0; i < 2; i++) {
      setTimeout(function () {
        return run();
      }, i * 1);
    }

    setTimeout(function () {
      (0, _chai.expect)(spy.callCount).to.equal(2);
      done();
    }, 100);
  });
});