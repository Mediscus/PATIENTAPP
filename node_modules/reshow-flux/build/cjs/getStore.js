"use strict";

var _interopRequireDefault = require("reshow-runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _objectSpread2 = _interopRequireDefault(require("reshow-runtime/helpers/objectSpread2"));

var _callFunc = _interopRequireDefault(require("call-func"));

var _getObjectValue = _interopRequireDefault(require("get-object-value"));

var storeLocator = function storeLocator(props) {
  return props === null || props === void 0 ? void 0 : props.store;
};

var getStore = function getStore(_ref) {
  var props = _ref.props,
      options = _ref.options;
  var allProps = (0, _objectSpread2["default"])((0, _objectSpread2["default"])({}, options), props);
  var store = (0, _callFunc["default"])((options === null || options === void 0 ? void 0 : options.storeLocator) || storeLocator, [allProps]);

  if (!store) {
    console.trace();
    throw "Need defined store. such as store={your-store}";
  }

  allProps.store = store;
  allProps.storeState = store.getState();
  return allProps;
};

var _default = getStore;
exports["default"] = _default;
module.exports = exports.default;