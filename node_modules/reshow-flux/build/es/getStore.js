import _objectSpread from "reshow-runtime/es/helpers/objectSpread2";
import callfunc from "call-func";
import get from "get-object-value";

var storeLocator = function storeLocator(props) {
  return props === null || props === void 0 ? void 0 : props.store;
};

var getStore = function getStore(_ref) {
  var props = _ref.props,
      options = _ref.options;

  var allProps = _objectSpread(_objectSpread({}, options), props);

  var store = callfunc((options === null || options === void 0 ? void 0 : options.storeLocator) || storeLocator, [allProps]);

  if (!store) {
    console.trace();
    throw "Need defined store. such as store={your-store}";
  }

  allProps.store = store;
  allProps.storeState = store.getState();
  return allProps;
};

export default getStore;