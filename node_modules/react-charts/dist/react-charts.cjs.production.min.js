"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(exports,"__esModule",{value:!0});var e=require("d3-array"),n=require("d3-shape"),r=require("jotai"),i=require("react"),a=t(i),o=t(require("@reach/observe-rect")),l=require("d3-scale"),u=t(require("react-dom")),s=require("@react-spring/web");function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function d(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)e.indexOf(n=a[r])>=0||(i[n]=t[n]);return i}function m(t){var e=a.useRef(t),n=a.useRef();return e.current=t,n.current||(n.current=function(){return e.current}),n.current}var f="undefined"!=typeof window?a.useLayoutEffect:a.useEffect;function p(t,e){var n,r,i,l=null==(n=null==e?void 0:e.enabled)||n,u=a.useState(t),s=u[0],c=u[1],d=a.useState({width:null!=(r=null==e?void 0:e.initialWidth)?r:0,height:null!=(i=null==e?void 0:e.initialHeight)?i:0}),m=d[0],p=d[1];f((function(){t!==s&&c(t)}));var h=a.useRef(!1);return f((function(){s&&!h.current&&(h.current=!0,p(s.getBoundingClientRect()))}),[s]),a.useEffect((function(){if(s&&l){var t=o(s,p);return t.observe(),function(){t.unobserve()}}}),[s,l]),m}var h=["area","line","rectangle","circle"];function g(t,e){void 0===t&&(t={}),void 0===e&&(e={}),t=function(t,e){return c({},t,{stroke:t.stroke||t.color||e.stroke||e.color,fill:t.fill||t.color||e.fill||e.color})}(t,e);for(var n=0;n<h.length;n++){var r=h[n];t[r]&&e[r]&&(t[r]=g(t[r],e))}return t}function v(t,e){return"translate3d("+Math.round(t)+"px, "+Math.round(e)+"px, 0)"}function y(t,e){var n,r,i,a,o,l,u,s;return e.stacked?[null!=(i=e.scale(null!=(a=null==(o=t.stackData)?void 0:o[0])?a:NaN))?i:NaN,null!=(l=e.scale(null!=(u=null==(s=t.stackData)?void 0:s[1])?u:NaN))?l:NaN]:[null!=(n=e.scale(0))?n:NaN,null!=(r=e.scale(e.getValue(t.originalDatum)))?r:NaN]}function x(t,e){var n,r,i,a,o;return n=e.stacked?null!=(r=e.scale(null!=(i=null==(a=t.stackData)?void 0:a[e.invert?1:0])?i:NaN))?r:NaN:null!=(o=e.scale(e.getValue(t.originalDatum)))?o:NaN,"band"!==e.axisFamily&&(n-=b(0,e)/2),n}function b(t,e){var n,r;return"band"===e.axisFamily?Math.min(Math.max(e.scale.bandwidth(),null!=(n=e.minBandSize)?n:99999999),null!=(r=e.maxBandSize)?r:1):Math.max(e.bandScale.bandwidth(),1)}function E(t,e){var n=y(t,e).sort();return Math.abs(n[1]-n[0])}function k(t,e,n){return e.isVertical?y(t,n)[n.invert?1:0]:x(t,e)}function w(t,e,n){return e.isVertical?x(t,e):y(t,n)[n.invert?1:0]-E(t,n)}function D(t,e,n){return e.isVertical?E(t,n):b(0,e)}function M(t,e,n){return e.isVertical?b(0,e):E(t,n)}var N=i.createContext(null);function S(t){return i.createElement(N.Provider,{value:t.value,children:t.children})}function A(){return i.useContext(N)()}function V(t){return t<0?-1:1}function _(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(V(a)+V(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function R(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function T(t,e,n){var r=t._x0,i=t._x1,a=t._y1,o=(i-r)/3;t._context.bezierCurveTo(r+o,t._y0+o*e,i-o,a-o*n,i,a)}function L(t){this._context=t}function C(t){this._context=t}L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:T(this,this._t0,R(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,T(this,R(this,n=_(this,t,e)),n);break;default:T(this,this._t0,n=_(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(function(t){this._context=new C(t)}.prototype=Object.create(L.prototype)).point=function(t,e){L.prototype.point.call(this,e,t)},C.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};var F=function(t){return new L(t)};function O(t){var e,r=t.primaryAxis,i=t.secondaryAxis,o=t.series,l=A(),u=l.getSeriesStatusStyle,s=l.getDatumStatusStyle,d=l.gridDimensions,m=null!=(e=i.curve)?e:F,f=(0,l.useFocusedDatumAtom)()[0],p=r.isVertical?i:r,h=r.isVertical?r:i,g=function(t){var e;return p.scale(p.stacked?null==(e=t.stackData)?void 0:e[1]:p.getValue(t.originalDatum))},y=function(t,e){var n;return h.scale(h.stacked?null==(n=t.stackData)?void 0:n[e]:h.getValue(t.originalDatum))};return a.createElement("g",{style:{transform:v(d.gridX,d.gridY)}},o.map((function(t,e){var r,o,l=u(t,f),d=c({strokeWidth:2},l,l.line,{fill:"none"}),p=c({strokeWidth:2,opacity:.5},l,l.area),h=null!=(r=n.area((function(t){var e;return null!=(e=g(t))?e:NaN}),(function(t){var e;return null!=(e=y(t,0))?e:NaN}),(function(t){var e;return null!=(e=y(t,1))?e:NaN})).curve(m)(t.datums))?r:void 0,v=null!=(o=n.line((function(t){var e;return null!=(e=g(t))?e:NaN}),(function(t){var e;return null!=(e=y(t,1))?e:NaN})).curve(m)(t.datums))?o:void 0;return a.createElement("g",{key:"lines-"+e},a.createElement("path",{d:h,style:p}),a.createElement("path",{d:v,style:d}),t.datums.map((function(t,e){var n,r,o=s(t,f);return a.createElement("circle",{key:e,ref:function(e){t.element=e},r:2,cx:g(t),cy:null!=(n=y(t,1))?n:NaN,stroke:"rgba(33,33,33,0.5)",style:c({r:2},l,l.circle,o,o.circle,null==(r=i.showDatumElements)||r?{}:{opacity:0})})})))})))}function I(t){var e=t.primaryAxis,n=t.secondaryAxis,r=t.series,i=A(),o=i.getSeriesStatusStyle,l=i.getDatumStatusStyle,u=i.gridDimensions,s=(0,i.useFocusedDatumAtom)()[0];return a.createElement("g",{style:{transform:v(u.gridX,u.gridY)}},r.map((function(t,r){var i=o(t,s);return a.createElement("g",{key:"lines-"+r},t.datums.map((function(t,r){var o,u,d,m,f=l(t,s);return a.createElement("rect",{ref:function(e){t.element=e},key:r,x:null!=(o=k(t,e,n))?o:NaN,y:null!=(u=w(t,e,n))?u:NaN,width:null!=(d=D(t,e,n))?d:NaN,height:null!=(m=M(t,e,n))?m:NaN,style:c({strokeWidth:0},i,i.rectangle,f,f.rectangle)})})))})))}var P={strokeWidth:2};function B(t){var e,r=t.primaryAxis,i=t.secondaryAxis,o=t.series,l=A(),u=l.getSeriesStatusStyle,s=l.getDatumStatusStyle,d=l.gridDimensions,m=null!=(e=i.curve)?e:F,f=(0,l.useFocusedDatumAtom)()[0],p=r.isVertical?i:r,h=r.isVertical?r:i,g=function(t){var e;return p.scale(p.stacked?null==(e=t.stackData)?void 0:e[1]:p.getValue(t.originalDatum))},y=function(t){var e;return h.scale(h.stacked?null==(e=t.stackData)?void 0:e[1]:h.getValue(t.originalDatum))};return a.createElement("g",{style:{transform:v(d.gridX,d.gridY)}},o.map((function(t,e){var r,o=u(t,f),l=c({},P,o,o.line,{fill:"none"}),d=null!=(r=n.line((function(t){var e;return null!=(e=g(t))?e:NaN}),(function(t){var e;return null!=(e=y(t))?e:NaN})).curve(m)(t.datums))?r:void 0;return a.createElement("g",{key:"lines-"+e},t.datums.map((function(t,e){var n,r=s(t,f);return a.createElement("circle",{key:e,ref:function(e){t.element=e},r:2,cx:g(t),cy:y(t),stroke:"rgba(33,33,33,0.5)",fill:"transparent",style:c({r:2},o,o.circle,r,r.circle,null==(n=i.showDatumElements)||n?{}:{opacity:0})})})),a.createElement("path",{d:d,style:l}))})))}function K(t,n,r,i,a){var o=function(t){var e,n,r,i,a,o,l;return c({},t,{elementType:null!=(e=t.elementType)?e:"line",minTickPaddingForRotation:null!=(n=t.minTickPaddingForRotation)?n:10,tickLabelRotationDeg:null!=(r=t.tickLabelRotationDeg)?r:60,innerBandPadding:null!=(i=t.innerBandPadding)?i:.6,outerBandPadding:null!=(a=t.outerBandPadding)?a:.2,show:null==(o=t.show)||o,stacked:null!=(l=t.stacked)&&l})}(t);if(!o.position)throw new Error("Chart axes must have a valid 'position' property");var u=["left","right"].indexOf(o.position)>-1,s=u?[r.gridHeight,0]:[0,r.gridWidth],d=u?[a,0]:[0,i];return"time"===o.scaleType||"localTime"===o.scaleType?function(t,n,r,i,a){var o=("localTime"===t.scaleType?l.scaleTime:l.scaleUtc)(i),u=n.map((function(t){return t.datums})).flat(),s=e.extent(u,(function(e){return t.getValue(e.originalDatum)})),d=s[0],m=s[1];if(void 0===d||void 0===m)throw console.info({options:t,series:n,range:i,values:u.map((function(e){return t.getValue(e.originalDatum)}))}),new Error("Invalid scale min/max");o.domain([d,m]),"number"==typeof t.hardMin&&o.domain([t.hardMin,Number(o.domain()[1])]),"number"==typeof t.hardMax&&o.domain([Number(o.domain()[0]),t.hardMax]),t.invert&&o.domain(Array.from(o.domain()).reverse()),o.nice();var f=o.copy().range(a),p=j(t,o,n,i),h=o.tickFormat(),g={},v=function(e){var n,r;return null!=(n=null==(r=t.formatters)||null==r.scale?void 0:r.scale(e,c({},g,{scale:void 0})))?n:h(e)},y=function(e){var n,r;return null!=(n=null==(r=t.formatters)||null==r.tooltip?void 0:r.tooltip(e,c({},g,{tooltip:void 0})))?n:v(e)};return Object.assign(g,{default:h,scale:v,tooltip:y,cursor:function(e){var n,r;return null!=(n=null==(r=t.formatters)||null==r.cursor?void 0:r.cursor(e,c({},g,{cursor:void 0})))?n:y(e)}}),c({},t,{axisFamily:"time",isVertical:r,scale:o,range:i,outerScale:f,bandScale:p,formatters:g})}(o,n,u,s,d):"linear"===o.scaleType||"log"===o.scaleType?function(t,n,r,i,a){var o="log"===t.scaleType?l.scaleLog():l.scaleLinear(),u=n.map((function(t){return t.datums})).flat(2),s=t.stacked?e.extent(n.map((function(t){return t.datums.map((function(t){var e;return null!=(e=t.stackData)?e:[]}))})).flat(2)):e.extent(u,(function(e){return t.getValue(e.originalDatum)})),d=s[0],m=s[1];if(void 0===d||void 0===m)throw console.info({options:t,series:n,range:i,values:u.map((function(e){return t.getValue(e.originalDatum)}))}),new Error("Invalid scale min/max");o.domain([d,m]),"number"==typeof t.hardMin&&o.domain([t.hardMin,Number(o.domain()[1])]),"number"==typeof t.hardMax&&o.domain([Number(o.domain()[0]),t.hardMax]),t.invert&&o.domain(Array.from(o.domain()).reverse()),o.range(i),o.nice();var f=o.copy().range(a),p=j(t,o,n,i),h=o.tickFormat(),g={},v=function(e){var n,r;return null!=(n=null==(r=t.formatters)||null==r.scale?void 0:r.scale(e,c({},g,{scale:void 0})))?n:h(e)},y=function(e){var n,r;return null!=(n=null==(r=t.formatters)||null==r.tooltip?void 0:r.tooltip(e,c({},g,{tooltip:void 0})))?n:v(e)};return Object.assign(g,{default:h,scale:v,tooltip:y,cursor:function(e){var n,r;return null!=(n=null==(r=t.formatters)||null==r.cursor?void 0:r.cursor(e,c({},g,{cursor:void 0})))?n:y(e)}}),c({},t,{axisFamily:"linear",isVertical:r,scale:o,range:i,outerScale:f,bandScale:p,formatters:g})}(o,n,u,s,d):"band"===o.scaleType?function(t,e,n,r,i){var a,o,u=Array.from(new Set(e.map((function(t){return t.datums})).flat().map((function(e){return t.getValue(e.originalDatum)})))),s=l.scaleBand(u,r).round(!1).paddingOuter(null!=(a=t.outerBandPadding)?a:0).paddingInner(null!=(o=t.innerBandPadding)?o:0);t.invert&&s.domain(Array.from(s.domain()).reverse());var d=s.copy().range(i),m={},f=function(e){var n,r;return null!=(n=null==(r=t.formatters)||null==r.scale?void 0:r.scale(e,c({},m,{scale:void 0})))?n:e},p=function(e){var n,r;return null!=(n=null==(r=t.formatters)||null==r.tooltip?void 0:r.tooltip(e,c({},m,{tooltip:void 0})))?n:f(e)};return Object.assign(m,{default:function(t){return t},scale:f,tooltip:p,cursor:function(e){var n,r;return null!=(n=null==(r=t.formatters)||null==r.cursor?void 0:r.cursor(e,c({},m,{cursor:void 0})))?n:p(e)}}),c({},t,{axisFamily:"band",isVertical:n,scale:s,range:r,outerScale:d,formatters:m})}(o,n,u,s,d):function(){throw new Error("Invalid scale type")}()}function j(t,n,r,i){var a,o,u=Math.max.apply(Math,i);r.forEach((function(e){e.datums.forEach((function(r){var i,a=n(null!=(i=t.getValue(r.originalDatum))?i:NaN);e.datums.forEach((function(e){var r,i=n(null!=(r=t.getValue(e.originalDatum))?r:NaN);if(a!==i){var o=[a,i].sort(),l=Math.abs(o[1]-o[0]);l<u&&(u=l)}}))}))}));var s=Math.max.apply(Math,i),c=e.range(s/u);return l.scaleBand(c,i).round(!1).paddingOuter(null!=(a=t.outerBandPadding)?a:0).paddingInner(null!=(o=t.innerBandPadding)?o:0)}var W=function(t){var e=t.getBoundingClientRect();return{top:Math.round(e.top),right:Math.round(e.right),bottom:Math.round(e.bottom),left:Math.round(e.left),width:Math.round(e.width),height:Math.round(e.height),x:Math.round(e.x),y:Math.round(e.y)}};function q(t){var e=a.useState(!1),n=e[0],r=e[1],i=A(),o=i.gridDimensions,l=i.width,u=i.height,s=(0,i.getOptions)(),d=s.dark,m=s.showDebugAxes,p=a.useRef(null);!function(t){var e=t.axis,n=t.elRef,r=t.gridDimensions,i=t.setShowRotated,o=(0,A().useAxisDimensionsAtom)(),l=o[0],u=o[1],s=a.useMemo((function(){var t;return null==(t=l[e.position])?void 0:t[e.id]}),[l,e.position,e.id]),d=a.useCallback((function(){var t;if(n.current){var a,o=e.isVertical?r.gridHeight:r.gridWidth,l=Array.from(n.current.querySelectorAll(".Axis-Group.outer .tickLabel")).map((function(t){return W(t)}));l.forEach((function(t){var e,n=null!=(e=a)?e:{width:0};t.width>0&&t.width>n.width&&(a=t)}));var u=o;l.length>1&&l.forEach((function(t,n){var r=l[n-1];r&&(u=Math.min(u,e.isVertical?t.top-r.top:t.left-r.left))}));var s=((null==(t=a)?void 0:t.width)||0)+e.minTickPaddingForRotation>u;e.isVertical||i(s)}}),[n,e.isVertical,e.minTickPaddingForRotation,r.gridWidth,r.gridHeight,i]),m=a.useCallback((function(){if(n.current){var t={width:0,height:0,top:0,bottom:0,left:0,right:0},r=n.current.querySelector(".Axis-Group.inner .domain");if(r){var i=W(r),a=Array.from(n.current.querySelectorAll(".Axis-Group.inner .tickLabel")).map((function(t){return W(t)})),o=a[0],d=a[0];if(a.forEach((function(t){t.width>0&&t.width>o.width&&(o=t),t.height>0&&t.height>d.height&&(d=t)})),e.isVertical){var m,f;if(a.length){var p=a.reduce((function(t,e){return e.top<t.top?e:t})),h=a.reduce((function(t,e){return e.bottom>t.bottom?e:t}));t.top=Math.round(Math.max(0,i.top-(null==p?void 0:p.top))),t.bottom=Math.round(Math.max(0,(null==h?void 0:h.bottom)-i.bottom))}t.width=Math.round(8+e.minTickPaddingForRotation+(null!=(m=null==(f=o)?void 0:f.width)?m:0))}else{var g,v;if(a.length){var y=a.reduce((function(t,e){return e.left<t.left?e:t})),x=a.reduce((function(t,e){return e.right>t.right?e:t}));t.left=Math.round(Math.max(0,i.left-(null==y?void 0:y.left))),t.right=Math.round(Math.max(0,(null==x?void 0:x.right)-i.right))}t.height=Math.round(8+e.minTickPaddingForRotation+(null!=(g=null==(v=d)?void 0:v.height)?g:0))}l&&s&&!Object.keys(t).some((function(e){return t[e]!==s[e]}))||u((function(n){var r,i,a;return c({},n,((a={})[e.position]=c({},null!=(r=n[e.position])?r:{},((i={})[e.id]=t,i)),a))}))}}else s&&u((function(t){var n,r,i=c({},null!=(n=t[e.position])?n:{});return delete i[e.id],c({},t,((r={})[e.position]=i,r))}))}),[e.id,e.isVertical,e.position,e.minTickPaddingForRotation,s,l,n,u]);f((function(){d()}),[d]),f((function(){m()}),[d])}({axis:t,elRef:p,gridDimensions:o,showRotated:n,setShowRotated:r});var h=function(e){var r=!e&&n,i=e?t.outerScale:t.scale,s=i.range(),f=s[0],p=s[1],h=e?u:o.gridHeight,g=e?l:o.gridWidth,y="left"===t.position?[{x:0,y:f},{x:0,y:p}]:"right"===t.position?[{x:g,y:f},{x:g,y:p}]:"top"===t.position?[{x:f,y:0},{x:p,y:0}]:[{x:f,y:h},{x:p,y:h}],x=y[0],b=y[1];return a.createElement("g",{key:"Axis-Group "+(e?"outer":"inner"),className:"Axis-Group "+(e?"outer":"inner"),style:{transform:e?void 0:v(o.gridX,o.gridY)}},a.createElement("g",{className:"Axis",style:c({},e?{opacity:m?.5:0,pointerEvents:"none"}:{opacity:1,pointerEvents:"all"})},a.createElement("line",{className:"domain",x1:x.x,y1:x.y,x2:b.x,y2:b.y,stroke:d?"rgba(255,255,255, .2)":"rgba(0,0,0, .2)"}),function(t,e){return t.ticks?t.ticks(10):t.domain()}(i).map((function(n,o){var l,u=function(t,e){var n,r=null!=(n=t(e))?n:NaN;return t.bandwidth?r+t.bandwidth()/2:r}(i,n),s="left"===t.position?[{x:0,y:u},{x:-8,y:u},{x:g,y:u}]:"right"===t.position?[{x:g,y:u},{x:g+8,y:u},{x:0,y:u}]:"top"===t.position?[{x:u,y:0},{x:u,y:-8},{x:u,y:h}]:[{x:u,y:h},{x:u,y:h+8},{x:u,y:0}],c=s[0],m=s[1],f=s[2],p=m.x,v=m.y;return"top"===t.position?v-=5:"bottom"===t.position?v+=5:"left"===t.position?p-=5:"right"===t.position&&(p+=5),a.createElement("g",{key:"vx-tick-"+n+"-"+o,className:"tick"},null!=(l=t.showGrid)&&!l||e?null:a.createElement("line",{x1:c.x,y1:c.y,x2:f.x,y2:f.y,stroke:d?"rgba(255,255,255, .05)":"rgba(0,0,0, .05)"}),e?null:a.createElement("line",{x1:c.x,y1:c.y,x2:m.x,y2:m.y,stroke:d?"rgba(255,255,255, .2)":"rgba(0,0,0, .2)"}),a.createElement("text",{className:"tickLabel",style:{fontSize:10,fill:d?"rgba(255,255,255, .7)":"rgba(0,0,0, .7)",dominantBaseline:r?"central":"bottom"===t.position?"hanging":"top"===t.position?"alphabetic":"central",textAnchor:r?"end":"right"===t.position?"start":"left"===t.position?"end":"middle"},transform:"translate("+p+", "+v+") rotate("+(r?"top"===t.position?60:-60:0)+")"},t.formatters.scale(n)))}))))};return t.show?a.createElement("g",{ref:p},h(!1),h(!0)):null}function z(t,e){void 0===e&&(e=!0);var n=a.useRef(e?t:null);return e&&(n.current=t),n.current}function G(){var t=i.useState(),e=t[0],n=t[1];return f((function(){if(!e){var t=document.getElementById("react-charts-portal");t||((t=document.createElement("div")).setAttribute("id","react-charts-portal"),Object.assign(t.style,{pointerEvents:"none",position:"fixed",left:0,right:0,top:0,bottom:0,"z-index":99999999999}),document.body.append(t)),n(t)}})),e}var H=function(t){return t?"rgba(255,255,255,.9)":"rgba(0, 26, 39, 0.9)"};function X(t){var e,n,r;return c({},t,{show:null==(e=t.show)||e,showLine:null==(n=t.showLine)||n,showLabel:null==(r=t.showLabel)||r})}function Y(){var t,e,n=A().getOptions,r=null==(t=n().primaryCursor)||t,i=null==(e=n().secondaryCursor)||e,o=a.useMemo((function(){return X(r?"boolean"==typeof r?{}:r:{show:!1})}),[r]),l=a.useMemo((function(){return X(i?"boolean"==typeof i?{}:i:{show:!1})}),[i]);return a.createElement(a.Fragment,null,a.createElement(J,{primary:!0,options:o}),a.createElement(J,{options:l}))}function J(t){var e,n,r,i,o,l,d,m,f,p,h,g,y=A(),x=y.getOptions,b=y.svgRect,E=y.gridDimensions,k=y.primaryAxis,w=y.secondaryAxes,D=(0,y.useFocusedDatumAtom)()[0],M=z(D,!!D),N=w.find((function(e){return e.id===t.options.axisId||(null==M?void 0:M.secondaryAxisId)})),S=t.primary?k:N,V=t.primary?N:k,_=function(e){var n,r;return null!=(n=t.options.value)?n:e?S.stacked?null==(r=e.stackData)?void 0:r[1]:S.getValue(null==e?void 0:e.originalDatum):void 0},R=_(D),T=_(M),L=V.scale.range(),C="band"===S.axisFamily?S.scale.bandwidth():1,F=S.scale(T),O=void 0!==R&&!Number.isNaN(R);S.isVertical?(o=(null!=(f=n=F)?f:0)-1,l=(null!=(p=n)?p:0)+C,"left"===S.position?(r=L[0],i=L[1]):(r=L[1],i=L[0])):(r=(null!=(h=e=F)?h:0)-1,i=(null!=(g=e)?g:0)+C,"top"===S.position?(o=L[0],l=L[1]):(o=L[1],l=L[0]));var I,P,B=Math.min(r,i),K=Math.min(o,l),j=Math.max(r,i),W=Math.max(o,l),q=Math.max(W-K,0),X=Math.max(j-B,0);S.isVertical?(I="left"===S.position?B:j,P=K+q/2):(P="top"===S.position?K:W,I=B+X/2),S.isVertical?(m=-50,d="left"===S.position?-100:0):(d=-50,m="top"===S.position?-100:0);var Y,J=S.formatters.cursor(T),U=s.useSpring({transform:v(B,K),width:X+"px",height:q+"px",config:s.config.stiff}),Q=s.useSpring({transform:v(I,P),config:s.config.stiff}),Z=G();return Z?u.createPortal(a.createElement("div",{style:{pointerEvents:"none",position:"absolute",top:0,left:0,transform:v(b.left+E.gridX,b.top+E.gridY),opacity:O?1:0,transition:"all .3s ease"},className:"Cursor"},t.options.showLine?a.createElement(s.animated.div,{style:c({},U,{position:"absolute",top:0,left:0,background:(Y=x().dark,Y?"rgba(255,255,255,.3)":"rgba(0, 26, 39, 0.3)")})}):null,t.options.showLabel?a.createElement(s.animated.div,{style:c({},Q,{position:"absolute",top:0,left:0})},a.createElement("div",{style:{padding:"5px",fontSize:"10px",background:H(x().dark),color:H(!x().dark),borderRadius:"3px",position:"relative",transform:"translate3d("+d+"%, "+m+"%, 0)",whiteSpace:"nowrap"}},J)):null),Z):null}var U={left:{side:"left",startKey:"left",lengthKey:"width",crossStartKey:"top",crossLengthKey:"height",fromEnd:!1},right:{side:"right",startKey:"left",lengthKey:"width",crossStartKey:"top",crossLengthKey:"height",fromEnd:!0},top:{side:"top",startKey:"top",lengthKey:"height",crossStartKey:"left",crossLengthKey:"width",fromEnd:!1},bottom:{side:"bottom",startKey:"top",lengthKey:"height",crossStartKey:"left",crossLengthKey:"width",fromEnd:!0}};function Q(t){var e=a.useRef();return f((function(){e.current=t}),[t]),e.current}var Z=function(t){return t?"rgba(255,255,255,.9)":"rgba(0, 26, 39, 0.9)"};function $(t){var n,r,i,o,l,u;if(!t.focusedDatum)return null;var s=t.primaryAxis,d=t.secondaryAxis,m=t.getDatumStyle,f=t.focusedDatum,p=t.getOptions(),h=p.groupingMode,g=p.dark,v=null!=(n=null==(r=t.focusedDatum)?void 0:r.group)?n:[],y=v.length,x=v.findIndex((function(t){return t===f})),b=x>-1?x-5:0;b=Math.max(b,0);var E=x>-1?b+10:y;E=Math.min(E,y),b=Math.max(E-10,0);var k,w,D=v.slice(b,E),M=b>0,N=E<y,S=(null==(i=t.anchorFit.fit)?void 0:i.side)+"-"+(null==(o=t.anchorFit.fit)?void 0:o.align);k||("left-center"===S?k="right":"right-center"===S?k="left":"top-center"===S?k="bottom":"bottom-center"===S?k="top":"right-start"===S?k="bottomLeft":"right-end"===S?k="topLeft":"left-start"===S?k="bottomRight":"left-end"===S&&(k="topRight"));var A=Z(g);return w="bottom"===k?{top:"100%",left:"50%",transform:"translate3d(-50%, 0%, 0)",borderLeft:7*.8+"px solid transparent",borderRight:7*.8+"px solid transparent",borderTop:"7px solid "+A}:"top"===k?{top:"0%",left:"50%",transform:"translate3d(-50%, -100%, 0)",borderLeft:7*.8+"px solid transparent",borderRight:7*.8+"px solid transparent",borderBottom:"7px solid "+A}:"right"===k?{top:"50%",left:"100%",transform:"translate3d(0%, -50%, 0)",borderTop:7*.8+"px solid transparent",borderBottom:7*.8+"px solid transparent",borderLeft:"7px solid "+A}:"left"===k?{top:"50%",left:"0%",transform:"translate3d(-100%, -50%, 0)",borderTop:7*.8+"px solid transparent",borderBottom:7*.8+"px solid transparent",borderRight:"7px solid "+A}:"topRight"===k?{top:"0%",left:"100%",transform:"translate3d(-50%, -50%, 0) rotate(-45deg)",borderTop:7*.8+"px solid transparent",borderBottom:7*.8+"px solid transparent",borderLeft:"14px solid "+A}:"bottomRight"===k?{top:"100%",left:"100%",transform:"translate3d(-50%, -50%, 0) rotate(45deg)",borderTop:7*.8+"px solid transparent",borderBottom:7*.8+"px solid transparent",borderLeft:"14px solid "+A}:"topLeft"===k?{top:"0%",left:"0%",transform:"translate3d(-50%, -50%, 0) rotate(45deg)",borderTop:7*.8+"px solid transparent",borderBottom:7*.8+"px solid transparent",borderRight:"14px solid "+A}:"bottomLeft"===k?{top:"100%",left:"0%",transform:"translate3d(-50%, -50%, 0) rotate(-45deg)",borderTop:7*.8+"px solid transparent",borderBottom:7*.8+"px solid transparent",borderRight:"14px solid "+A}:{opacity:0},a.createElement("div",{style:{position:"relative",fontSize:"10px",padding:"5px",background:Z(g),color:g?"black":"white",borderRadius:"3px"}},a.createElement("div",{style:c({position:"absolute",width:0,height:0},w)}),a.createElement("div",null,a.createElement("div",{style:{marginBottom:"3px",textAlign:"center"}},a.createElement("strong",null,"series"===h?f.seriesLabel:"secondary"===h?d.formatters.tooltip(d.getValue(f.originalDatum)):s.formatters.tooltip(s.getValue(f.originalDatum)))),a.createElement("table",{style:{whiteSpace:"nowrap"}},a.createElement("tbody",null,M?a.createElement("tr",{style:{opacity:.8}},a.createElement("td",null),a.createElement("td",null,"..."),a.createElement("td",null)):null,D.map((function(t,e){var n=t===f;return a.createElement("tr",{key:e,style:{opacity:n?1:.8,fontWeight:n?"bold":void 0}},a.createElement("td",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},a.createElement("svg",{width:"14",height:"14"},a.createElement("circle",{cx:"7",cy:"7",r:"5",style:c({},m(t),{stroke:g?"black":"white",strokeWidth:n?2:1})}))),"series"===h?a.createElement(a.Fragment,null,a.createElement("td",null,s.formatters.tooltip(s.getValue(t.originalDatum)),":  "),a.createElement("td",{style:{textAlign:"right"}},d.formatters.tooltip(d.getValue(t.originalDatum)))):a.createElement(a.Fragment,null,a.createElement("td",null,t.seriesLabel,":  "),a.createElement("td",{style:{textAlign:"right"}},"secondary"===h?s.formatters.tooltip(s.getValue(t.originalDatum)):d.formatters.tooltip(d.getValue(t.originalDatum)))))})),N?a.createElement("tr",{style:{opacity:.8}},a.createElement("td",null),a.createElement("td",null,"..."),a.createElement("td",null)):null,d.stacked&&(null!=(l=f.group)?l:[]).length>1?a.createElement("tr",null,a.createElement("td",{style:{paddingTop:"5px"}},a.createElement("div",{style:{width:"12px",height:"12px",backgroundColor:g?"rgba(0, 26, 39, 0.3)":"rgba(255,255,255,.2)",borderRadius:"50px"}})),a.createElement("td",{style:{paddingTop:"5px"}},"Total:  "),a.createElement("td",{style:{paddingTop:"5px"}},e.sum(null!=(u=f.group)?u:[],(function(t){return d.getValue(t.originalDatum)})))):null))))}function tt(){var t,e,n,r,i,o,l,m,f,h,g,v,y,x=A(),b=x.getOptions,E=x.primaryAxis,k=x.secondaryAxes,w=x.getDatumStatusStyle,D=(0,x.useFocusedDatumAtom)()[0],M=z(D,!!D),N=null==(t=b().tooltip)||t,S=null!=(e=k.find((function(t){return t.id===(null==M?void 0:M.secondaryAxisId)})))?e:k[0],V=a.useMemo((function(){return void 0===(t="boolean"==typeof N?{}:N)&&(t={}),c({},t,{align:null!=(e=t.align)?e:"auto",alignPriority:null!=(n=t.alignPriority)?n:["right","topRight","bottomRight","left","topLeft","bottomLeft","top","bottom"],padding:null!=(r=t.padding)?r:5,tooltipArrowPadding:null!=(i=t.tooltipArrowPadding)?i:7,render:null!=(a=t.render)?a:$});var t,e,n,r,i,a}),[N]),_=null;M&&(_=null!=(v=null==(y=M.element)?void 0:y.getBoundingClientRect())?v:null);var R,T,L,C,F,O,I,P=G(),B=a.useState(),K=B[0],j=B[1],W=null!=(n=null==(r=_)?void 0:r.left)?n:0,q=null!=(i=null==(o=_)?void 0:o.top)?i:0,H=null!=(l=null==(m=_)?void 0:m.width)?l:0,X=null!=(f=null==(h=_)?void 0:h.height)?f:0,Y=a.useMemo((function(){var t={x:q,y:W,top:q,left:W,bottom:q+H,right:W+X,width:H,height:X,toJSON:function(){return{}}};return t.toJSON=function(){return t},t}),[X,W,q,H]),J=a.useMemo((function(){return{getBoundingClientRect:function(){return Y}}}),[Y]),Z=(T=p((R={show:!!D,portalEl:P,anchorEl:J,tooltipEl:K,side:["right","left","top","bottom"]}).portalEl,{enabled:R.show}),L=p(R.anchorEl,{enabled:R.show}),C=p(R.tooltipEl,{enabled:R.show}),F=a.useMemo((function(){return(Array.isArray(R.side)?R.side:[R.side]).map((function(t){var e=t.split(" "),n=e[0],r=e[1],i=void 0===r?"center":r;if(!["top","right","bottom","left"].find((function(t){return n===t})))throw new Error('react-sticker: "'+n+"\" is not a valid side! Must be one of ['top', 'right', 'bottom', 'left'].");if(!["center","start","end","top","right","bottom","left"].find((function(t){return i===t})))throw new Error('react-sticker: "'+i+"\" is not a valid side-alignment! Must be one of ['center', 'start', 'end', 'top', 'right', 'bottom', 'left'].");return[n,i]}))}),[JSON.stringify(R.side)]),{fit:I=a.useMemo((function(){return O?function(t){var e=t.portalDims,n=t.tooltipDims,r=t.anchorDims,i=t.useLargest,a=t.sides.map((function(t){return function(t){var e,n,r,i,a=t.side,o=t.align,l=t.startKey,u=t.lengthKey,s=t.crossStartKey,c=t.crossLengthKey,d=t.fromEnd,m=t.portalDims,f=t.tooltipDims,p=t.anchorDims,h=m[l],g=m[u],v=m[s],y=m[c],x=p[l]-m[l],b=p[u],E=p[s],k=p[c],w=p[c],D=f[u],M=f[c];return d?(n=x+b,r=(g-(x+b))/D):(n=x-D,r=Math.min(x/D)),n=Math.max(h,Math.min(n,g)),"left"===l?"top"===o?o="start":"bottom"===o&&(o="end"):"left"===o?o="start":"right"===o&&(o="end"),["start","center","end"].includes(o)||(o="center"),i="start"===o?E:"end"===o?E+w-M:E+k/2-M/2,i=Math.max(v,Math.min(i,y-M)),{side:a,align:o,startKey:l,lengthKey:u,crossStartKey:s,crossLengthKey:c,fromEnd:d,portalDims:m,tooltipDims:f,anchorDims:p,fitRatio:r,style:(e={},e[l]=n,e[s]=i,e)}}(c({},U[t[0]],{align:t[1],portalDims:e,tooltipDims:n,anchorDims:r}))}));return i?(a.sort((function(t,e){return e.fitRatio-t.fitRatio})),a[0]):a.find((function(t){return t.fitRatio>=1}))||a[0]}({portalDims:T,tooltipDims:C,anchorDims:L,sides:F,useLargest:R.useLargest}):null}),[L,R.useLargest,T,O=T&&C&&L,F,C]),style:c({position:"absolute",visibility:O?"visible":"hidden"},null==I?void 0:I.style)}),tt=d(Z.style,["visibility"]),et=Q(D),nt=Q(tt),rt=0===(null==nt?void 0:nt.left)&&0===(null==nt?void 0:nt.top),it=s.useSpring(c({},tt,{opacity:rt?0:D&&Z.fit?1:0,config:{mass:1,tension:210,friction:30},immediate:function(t){return rt||["left","top"].includes(t)&&!et&&!!D}}));return N&&P?u.createPortal(a.createElement(s.animated.div,{style:it},a.createElement("div",{ref:function(t){return j(t)},style:c({fontFamily:"sans-serif"},"left"===(null==(g=Z.fit)?void 0:g.startKey)?{padding:"0 10px"}:{padding:"10px 0"})},V.render({getOptions:b,focusedDatum:M,primaryAxis:E,secondaryAxis:S,getDatumStyle:function(t){return w(t,D)},anchorFit:Z}))),P):null}function et(){var t=A(),e=t.getOptions,n=(0,t.useFocusedDatumAtom)()[1],r=e(),i=r.onFocusDatum,o=r.onClickDatum,l=r.tooltip,u=r.primaryCursor,s=r.secondaryCursor,d=r.showVoronoi,m=r.groupingMode,f=a.useCallback((function(t){null==i||i(t),n(t)}),[i,n]);return(i||o||l||u||s||d)&&"primary"===m?a.createElement(nt,c({},{handleFocus:f})):null}function nt(t){var e=t.handleFocus,n=A(),r=n.primaryAxis,i=n.series,o=n.secondaryAxes,l=n.getOptions,u=n.gridDimensions,s=n.groupedDatums;return a.useMemo((function(){var t=i[0].datums.map((function(t,e){var n,a,l,u=i[0].datums[e-1],c=i[0].datums[e+1],d=r.getValue(t.originalDatum),m=null!=(n=null==r?void 0:r.scale(d))?n:NaN,f=null!=(a=null==r?void 0:r.scale.range())?a:[0,0];null!=r&&r.isVertical&&f.reverse();var p,h,g=f[0],v=f[1];u&&(g=m-(m-(null!=(p=null==r?void 0:r.scale(r.getValue(u.originalDatum)))?p:NaN))/2),c&&(v=m+((null!=(h=null==r?void 0:r.scale(r.getValue(c.originalDatum)))?h:NaN)-m)/2);var y=null!=(l=s.get(""+d))?l:[];return y.sort((function(t,e){var n,r,i,a,l=o.find((function(e){return e.id===t.secondaryAxisId})),u=o.find((function(t){return t.id===e.secondaryAxisId}));return(null!=(n=null==l?void 0:l.scale(l.stacked?null==(r=t.stackData)?void 0:r[1]:null==l?void 0:l.getValue(t.originalDatum)))?n:NaN)-(null!=(i=null==u?void 0:u.scale(u.stacked?null==(a=e.stackData)?void 0:a[1]:null==u?void 0:u.getValue(e.originalDatum)))?i:NaN)})),{primaryStart:g,primaryEnd:v,primaryPx:m,datumBoundaries:y.map((function(t,e){var n,r,i=y[e-1],a=y[e+1],l=o.find((function(e){return e.id===t.secondaryAxisId}));if(null!=l&&l.stacked){var u,s=null!=(u=null==l?void 0:l.scale.range())?u:[0,0];null!=l&&l.isVertical&&s.reverse();var c,d,m,f,p,h,g=s[0],v=s[1];return i&&(g=null!=(c=null==l?void 0:l.scale(null!=(d=null==(m=t.stackData)?void 0:m[1])?d:NaN))?c:NaN),a&&(v=null!=(f=null==l?void 0:l.scale(null!=(p=null==(h=t.stackData)?void 0:h[0])?p:NaN))?f:NaN),{secondaryStart:g,secondaryEnd:v,datum:t}}var x=null!=(n=null==l?void 0:l.scale(null==l?void 0:l.getValue(t.originalDatum)))?n:NaN,b=null!=(r=null==l?void 0:l.scale.range())?r:[0,0];null!=l&&l.isVertical&&b.reverse();var E=b[0],k=b[1];if(i){var w,D=o.find((function(t){return t.id===(null==i?void 0:i.secondaryAxisId)}));E=x-(x-(null!=(w=null==D?void 0:D.scale(null==D?void 0:D.getValue(i.originalDatum)))?w:NaN))/2}if(a){var M,N=o.find((function(t){return t.id===(null==a?void 0:a.secondaryAxisId)}));k=x+((null!=(M=null==N?void 0:N.scale(null==N?void 0:N.getValue(a.originalDatum)))?M:NaN)-x)/2}return{secondaryStart:E,secondaryEnd:k,datum:t}}))}}));return a.createElement("g",c({},{onMouseLeave:function(){return e(null)},style:{transform:v(u.gridX,u.gridY)}}),t.map((function(t){return a.createElement(a.Fragment,{key:t.primaryPx},t.datumBoundaries.map((function(n){var i,o,u,s,d=r.isVertical?n.secondaryStart:t.primaryStart,m=r.isVertical?n.secondaryEnd:t.primaryEnd,f=r.isVertical?t.primaryStart:n.secondaryStart,p=r.isVertical?t.primaryEnd:n.secondaryEnd,h=Math.min(d,m),g=Math.min(f,p),v=Math.max(d,m),y=Math.max(f,p),x=Math.max(y-g,0),b=Math.max(v-h,0);return a.createElement("rect",c({},{key:t.primaryPx+"_"+n.datum.seriesIndex,x:h,y:g,width:b,height:x,className:"action-voronoi",onMouseEnter:function(){return e(n.datum)},style:{fill:(i=rt(100,200),o=rt(0,i),u=rt(0,o),s=it([i,o,u]),"rgba("+s.join(", ")+", .5)"),opacity:l().showVoronoi?1:0}}))})))})))}),[l,u.gridX,u.gridY,s,e,r,o,i])}function rt(t,e){return void 0===t&&(t=0),void 0===e&&(e=255),Math.floor(t+Math.random()*Math.min(e,255-t))}function it(t){for(var e,n=t.length;0!==n;){e=Math.floor(Math.random()*n),n--;var r=[t[e],t[n]];t[n]=r[0],t[e]=r[1]}return t}var at=["#0f83ab","#faa43a","#ff4e4e","#53cfc9","#a2d925","#decf3f","#734fe9","#cd82ad","#006d92","#de7c00","#f33232","#3f9a80","#53c200","#d7af00","#4c26c9","#d44d99"];function ot(t){var i,o=t.options,l=t.width,u=t.height;if(!o.primaryAxis)throw new Error("A primaryAxis is required");if(!o.secondaryAxes.length)throw new Error("At least one secondaryAxis is required");var s=a.useRef(null),d=p(s.current),h=m(o),v=a.useMemo((function(){return r.atom({left:{},right:{},top:{},bottom:{}})}),[]),y=a.useMemo((function(){return r.atom(null)}),[]),x=a.useCallback((function(){return r.useAtom(v)}),[v]),b=a.useCallback((function(){return r.useAtom(y)}),[y]),E=x()[0],k=b()[0],w=a.useMemo((function(){var t=["width","top","bottom"].map((function(t){return lt(E.left,t)})),e=t[0],n=t[1],r=t[2],i=["width","top","bottom"].map((function(t){return lt(E.right,t)})),a=i[0],o=i[1],s=i[2],c=["height","left","right"].map((function(t){return lt(E.top,t)})),d=c[0],m=c[1],f=c[2],p=["height","left","right"].map((function(t){return lt(E.bottom,t)})),h=p[0],g=p[1],v=p[2];return{gridX:Math.max(e,m,g),gridY:Math.max(d,n,o),gridWidth:Math.max(0,l-Math.max(e,m,g)-Math.max(a,f,v)),gridHeight:Math.max(0,u-Math.max(d,n,o)-Math.max(h,r,s))}}),[l,u,E]),D=a.useMemo((function(){for(var t=[],e=0;e<o.data.length;e++){for(var r,i,a=o.data[e],l=null!=(r=a.id)?r:e+"",u=null!=(i=a.label)?i:"Series "+(e+1),s=a.secondaryAxisId,c=a.data,d=[],m=0;m<c.length;m++)d[m]={originalSeries:a,seriesIndex:e,seriesId:l,seriesLabel:u,secondaryAxisId:s,index:m,originalDatum:c[m]};t[e]={originalSeries:a,index:e,id:l,label:u,secondaryAxisId:s,datums:d}}return o.secondaryAxes.some((function(t){return t.stacked}))&&o.secondaryAxes.filter((function(t){return t.stacked})).forEach((function(e){var r,i=t.filter((function(t){return t.secondaryAxisId===e.id})),a=Object.keys(i);n.stack().keys(a).value((function(t,n,r){var a=e.getValue(i[Number(n)].datums[r].originalDatum);return null==a?0:a})).offset(null!=(r=e.stackOffset)?r:n.stackOffsetNone)(Array.from({length:i.sort((function(t,e){return e.datums.length-t.datums.length}))[0].datums.length})).forEach((function(t,e){t.forEach((function(t,n){t.data=i[e].datums[n],i[e].datums[n].stackData=t}))}))})),t}),[o.data,o.secondaryAxes]),M=a.useMemo((function(){return K(o.primaryAxis,D,w,l,u)}),[w,u,o.primaryAxis,D,l]),N=a.useMemo((function(){return o.secondaryAxes.map((function(t){return K(t,D,w,l,u)}))}),[w,u,o.secondaryAxes,D,l]),A=a.useMemo((function(){return{xKey:M.isVertical?"secondary":"primary",yKey:M.isVertical?"primary":"secondary"}}),[M]),V=a.useMemo((function(){var t=new Map,e=D.map((function(t){return t.datums})).flat(2);return e.forEach((function(e){var n=""+M.getValue(e.originalDatum);t.has(n)||t.set(n,[]),t.get(n).push(e)})),e.forEach((function(e){var n=""+M.getValue(e.originalDatum);e.group=t.get(n)})),t}),[M,D]),_=a.useCallback((function(t,e){var n={color:h().defaultColors[t.index%(h().defaultColors.length-1)]},r=function(t,e){return(null==e?void 0:e.seriesId)===t.id?"focused":"none"}(t,e),i=h().getSeriesStyle(t,r);return t.style=g(i,n),t.style}),[h]),R=a.useCallback((function(t,e){var n=c({},D[t.seriesIndex].style,{color:h().defaultColors[t.seriesIndex%(h().defaultColors.length-1)]}),r=function(t,e){var n;return t===e?"focused":null!=(n=t.group)&&n.some((function(t){}))?"groupFocused":"none"}(t,e),i=h().getDatumStyle(t,r);return t.style=g(i,n),t.style}),[h,D]),T=[].concat(D).reverse(),L=o.getSeriesOrder(T);f((function(){s.current&&s.current.parentElement&&!s.current.parentElement.style.position&&(s.current.parentElement.style.position="relative")}));var C={getOptions:h,gridDimensions:w,primaryAxis:M,secondaryAxes:N,axesInfo:A,series:D,orderedSeries:L,groupedDatums:V,width:l,height:u,getSeriesStatusStyle:_,getDatumStatusStyle:R,useAxisDimensionsAtom:x,useFocusedDatumAtom:b,svgRect:d},F=e.sort(e.groups(L,(function(t){return t.secondaryAxisId})),(function(t){var e=t[0];return N.findIndex((function(t){return t.id===e}))}));return a.createElement(S,{value:m(C)},a.createElement("div",{style:{fontFamily:"sans-serif"}},a.createElement("svg",{ref:s,style:{width:l,height:u,overflow:o.brush?"hidden":"visible"},onClick:function(t){return null==o.onClickDatum?void 0:o.onClickDatum(k,t)}},a.createElement("g",{className:"Series",style:{pointerEvents:"none"}},F.map((function(t){var e=t[0],n=t[1],r=N.find((function(t){return t.id===e}));if(!r)return null;var i=r.elementType,o=function(){if("line"===i)return B;if("bar"===i)return I;if("area"===i)return O;throw new Error("Invalid elementType")}();return a.createElement(o,{key:null!=e?e:"__default__",primaryAxis:M,secondaryAxis:r,series:n})}))),a.createElement("g",{className:"axes"},[M].concat(N).map((function(t){return a.createElement(q,c({key:[t.position,t.id].join("")},t))}))),a.createElement(et,null),null!=(i=null==o.renderSVG?void 0:o.renderSVG())?i:null),a.createElement(Y,null),a.createElement(tt,null)))}function lt(t,e){var n=0;return Object.keys(t).forEach((function(r){var i;n+=(null==(i=t[r])?void 0:i[e])||0})),n}exports.Chart=function(t){var e=t.options,n=t.className,r=t.style,i=void 0===r?{}:r,o=d(t,["options","className","style"]),l=function(t){var e,n,r,i,a,o,l,u;return c({},t,{initialWidth:null!=(e=t.initialWidth)?e:300,initialHeight:null!=(n=t.initialHeight)?n:200,getSeriesStyle:null!=(r=t.getSeriesStyle)?r:function(){return{}},getDatumStyle:null!=(i=t.getDatumStyle)?i:function(){return{}},getSeriesOrder:null!=(a=t.getSeriesOrder)?a:function(t){return t},groupingMode:null!=(o=t.groupingMode)?o:"primary",showVoronoi:null!=(l=t.showVoronoi)&&l,defaultColors:null!=(u=t.defaultColors)?u:at})}(e),u=a.useState(null),s=u[0],m=u[1],h=null==s?void 0:s.parentElement,g=p(h,l),v=g.width,y=g.height;return f((function(){if(h){var t=window.getComputedStyle(h);["relative","absolute","fixed"].includes(t.display)||(h.style.position="relative")}}),[h]),a.createElement("div",c({ref:m},o,{className:"ReactChart "+(n||""),style:c({},i,{position:"absolute",width:v,height:y})}),a.createElement(ot,c({options:l},{width:v,height:y})))};
//# sourceMappingURL=react-charts.cjs.production.min.js.map
